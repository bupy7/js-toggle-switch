!function(global,factory){if("function"==typeof define&&define.amd)define("ToggleSwitch",["exports"],factory);else if("undefined"!=typeof exports)factory(exports);else{var mod={exports:{}};factory(mod.exports),global.ToggleSwitch=mod.exports.default}}(this,function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var ToggleSwitch=function(){function ToggleSwitch(checkbox,options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ToggleSwitch),this._checkbox="string"==typeof checkbox?document.querySelector(checkbox):checkbox,this._container=null,this._tongue=null,this._onLabel="On",this._offLabel="Off",this._ready=!1,this._onClick=this._onClick.bind(this),this._configuration(ToggleSwitch.defaultOptions),this._configuration(options||{}),this._render()}return _createClass(ToggleSwitch,null,[{key:"defaultOptions",get:function(){return this._defaultOptions||(this._defaultOptions={}),this._defaultOptions}}]),_createClass(ToggleSwitch,[{key:"turnOn",value:function(){this._ready&&!this._checkbox.checked&&(this._checkbox.checked=!0,this._renderTurnOn(),this._checkbox.dispatchEvent(createChangeEvent()))}},{key:"turnOff",value:function(){this._ready&&this._checkbox.checked&&(this._checkbox.checked=!1,this._renderTurnOff(),this._checkbox.dispatchEvent(createChangeEvent()))}},{key:"toggle",value:function(){this._ready&&(this._checkbox.checked?this.turnOff():this.turnOn())}},{key:"getValue",value:function(){return this._checkbox.checked}},{key:"destroy",value:function(){this._ready&&(this._removeListeners(),this._undraw(),this._ready=!1)}},{key:"_render",value:function(){this._ready||(this._draw(),this._addListeners(),this._ready=!0)}},{key:"_configuration",value:function(options){var allowedOptionsMap=["onLabel","offLabel"];for(var name in options)void 0!==this["_"+name]&&-1!==allowedOptionsMap.indexOf(name)&&(this["_"+name]=options[name])}},{key:"_addListeners",value:function(){this._container.addEventListener("click",this._onClick)}},{key:"_removeListeners",value:function(){this._container.removeEventListener("click",this._onClick)}},{key:"_draw",value:function(){this._container=document.createElement("div"),this._container.classList.add("toggle-switch"),this._checkbox.parentNode.insertBefore(this._container,this._checkbox.nextSibling),this._tongue=document.createElement("div"),this._tongue.classList.add("toggle-switch__tongue"),this._checkbox.checked?this._renderTurnOn():this._renderTurnOff(),this._container.appendChild(this._tongue),this._checkbox.classList.add("toggle-switch__checkbox"),this._container.appendChild(this._checkbox)}},{key:"_undraw",value:function(){this._checkbox.classList.remove("toggle-switch__checkbox"),this._container.parentNode.insertBefore(this._checkbox,this._container.nextSibling),this._container.parentNode.removeChild(this._container),this._container=null,this._tongue=null}},{key:"_renderTurnOn",value:function(){this._container.classList.remove("toggle-switch--off"),this._container.classList.add("toggle-switch--on"),this._tongue.innerHTML=this._onLabel}},{key:"_renderTurnOff",value:function(){this._container.classList.remove("toggle-switch--on"),this._container.classList.add("toggle-switch--off"),this._tongue.innerHTML=this._offLabel}},{key:"_onClick",value:function(){this.toggle()}}]),ToggleSwitch}();function createChangeEvent(){var event=document.createEvent("HTMLEvents");return event.initEvent("change",!0,!1),event}exports.default=ToggleSwitch});